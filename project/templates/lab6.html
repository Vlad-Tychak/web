<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>web додаток</title>
    </head>
    <body>
        <ul class="nav-menu">
            <li>
                <a href="{{ url_for('index') }}">Cписок лабораторних робіт</a>
            </li>
            <li>
                <a href="{{ url_for('about_me') }}">Про мене</a>
            </li>
            <li>
                <a  href="{{ url_for('contact') }}">Зворотній звязок</a>
            </li>
        </ul>
        <section id="conteiner-of-lab">
                <h1>Аналіз сторінки новин</h1>
                <form method="POST">
                    <label for="url">Введіть URL сторінки:</label><br>
                    <input type="url" name="url" id="url" required><br><br>
                    <input type="submit" value="Аналізувати">
                </form>
            
                {% if error %}
                    <p style="color: red;">{{ error }}</p>
                {% endif %}
            
                {% if result %}
                    <h2>Результати аналізу:</h2>
                    <h3>Частота появи слів (топ 10):</h3>
                    <ul>
                        {% for word, freq in result.word_frequency %}
                            <li>{{ word }}: {{ freq }}</li>
                        {% endfor %}
                    </ul>
            
                    <h3>Частота HTML тегів (топ 10):</h3>
                    <ul>
                        {% for tag, freq in result.tags_frequency %}
                            <li>&lt;{{ tag }}&gt;: {{ freq }}</li>
                        {% endfor %}
                    </ul>
            
                    <p>Кількість посилань: {{ result.links_count }}</p>
                    <p>Кількість зображень: {{ result.images_count }}</p>
                {% endif %}
        <br>
        <br>
        <div>
            <h1>Опис</h1>
            <p>завдання: Реалізуйте програму, яка для довільної сторінки будь-якого сайту новин  буде підраховувати частоту появи слів у тексті новини, частоту появи html тегів, кількість посилань та зображень. 

                Цей код аналізує HTML-сторінку новин, підраховуючи кількість слів, HTML-тегів, посилань та зображень. Ось детальне пояснення, як він працює:
                Опис функціональності:
                Функція analyze_news_page(url):
                Параметри: приймає URL сторінки новин.
                Алгоритм:
                Кодування URL: За допомогою quote кодується URL, щоб уникнути проблем із спеціальними символами.
                Отримання сторінки: За допомогою urlopen запитує сторінку, передаючи її у вигляді HTTP-запиту з заголовком User-Agent, що імітує браузер (щоб уникнути блокувань за запити від скриптів).
                Парсинг HTML:
                Спочатку видаляються всі HTML-теги за допомогою регулярного виразу: re.sub(r'<[^>]+>', ' ', html_content). Це дозволяє залишити тільки текст.
                Використовуючи регулярні вирази, витягуються всі слова (\b\w+\b) і підраховується їх частота за допомогою Counter.
                Збираються всі HTML-теги (назви тегів) і підраховується їх частота.
                Витягуються всі посилання (<a href="...">) та зображення (<img src="...">), після чого підраховується їх кількість.
                Обробка виключень:
                Якщо виникає помилка (наприклад, неправильний URL, відсутній доступ до сторінки або інша проблема), програма виведе повідомлення про помилку.
                Повернення результатів:
                Функція повертає словник, що містить:
                word_frequency: Топ 10 слів на сторінці за частотою.
                tags_frequency: Топ 10 тегів HTML на сторінці.
                links_count: Кількість посилань на сторінці.
                images_count: Кількість зображень на сторінці.
                Основна частина програми:
                Користувач вводить URL сторінки новин.
                Виводяться результати аналізу:
                Топ 10 найбільш поширених слів на сторінці.
                Топ 10 найбільш зустрічаються HTML-тегів.
                Кількість посилань та зображень.</p>
        </div>
        </section>
             
    </body>
</html>